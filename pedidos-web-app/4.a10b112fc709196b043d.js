(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"2Ifh":function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=l("CcnG");e.CURRENCY_MASK_CONFIG=new t.InjectionToken("currency.mask.config")},"60Of":function(n,e,l){"use strict";l.r(e);var t=l("CcnG"),i=function(){return function(){}}(),o=l("pMnS"),u=l("Ip0R"),a=l("ZYCi"),r=l("N+K7"),s=l("26FU"),d=function(){return function(){this.Id=0,this.Itens=[new c],this.IdCliente=0}}(),c=function(){return function(){this.Id=0,this.IdProduto=0,this.PrecoUnitario=null,this.Quantidade=0,this.Rentabilidade=null}}(),p=function(n){return n[n.Otima=0]="Otima",n[n.Boa=1]="Boa",n[n.Ruim=2]="Ruim",n}({}),g=l("67Y/"),m=function(){function n(n){var e=this;this.httpService=n,this.clientesSub=new s.a([]),this.clientes$=this.clientesSub.asObservable(),this.loadingClientes$=new s.a(!1),this.produtosSub=new s.a([]),this.produtos$=this.produtosSub.asObservable(),this.loadingProdutos$=new s.a(!1),this.clientesSub.subscribe(function(){return e.loadingClientes$.next(!1)}),this.produtosSub.subscribe(function(){return e.loadingProdutos$.next(!1)})}return n.prototype.getClientes=function(){var n=this;return this.loadingClientes$.next(!0),this.httpService.getObs("clientes/").subscribe(function(e){n.clientesSub.next(e)}),this.clientesSub.asObservable()},n.prototype.getProdutos=function(){var n=this;return this.loadingProdutos$.next(!0),this.httpService.getObs("produtos/").subscribe(function(e){return n.produtosSub.next(e)}),this.produtosSub.asObservable()},n.prototype.getPedido=function(n){return this.httpService.getObs("pedidos/"+n)},n.prototype.calcularRentablidade=function(n,e){var l=this.converteEmString(n),t=this.converteEmString(e);return this.httpService.getObs("pedidos/rentabilidade",{precoSugerido:l,precoUnitario:t}).pipe(Object(g.a)(function(n){switch(n.Id){case"OTIMA":return p.Otima;case"BOA":return p.Boa;case"RUIM":return p.Ruim}}))},n.prototype.converteEmString=function(n){return n.Valor+" "+n.Moeda.Id},n.prototype.salvarPedido=function(n){return n.Id>0?this.alterarPedido(n):this.adicionarPedido(n)},n.prototype.alterarPedido=function(n){return this.httpService.putObs("pedidos/"+n.Id,n)},n.prototype.adicionarPedido=function(n){return this.httpService.postObs("pedidos/",n)},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(r.a))},token:n,providedIn:"root"}),n}(),h=l("mrSG"),f=l("FFOo"),v=l("Ehmk"),b=l("eihs");function C(n,e){return function(l){return l.lift(new y(n,e))}}var y=function(){function n(n,e){this.compare=n,this.keySelector=e}return n.prototype.call=function(n,e){return e.subscribe(new I(n,this.compare,this.keySelector))},n}(),I=function(n){function e(e,l,t){var i=n.call(this,e)||this;return i.keySelector=t,i.hasKey=!1,"function"==typeof l&&(i.compare=l),i}return h.__extends(e,n),e.prototype.compare=function(n,e){return n===e},e.prototype._next=function(n){var e=n;if(this.keySelector&&(e=Object(v.a)(this.keySelector)(n))===b.a)return this.destination.error(b.a.e);var l=!1;if(this.hasKey){if((l=Object(v.a)(this.compare)(this.key,e))===b.a)return this.destination.error(b.a.e)}else this.hasKey=!0;!1===Boolean(l)&&(this.key=e,this.destination.next(n))},e}(f.a),w=l("Gi3i"),S=function(){function n(){var n=this;this._mensagensSub=new t.EventEmitter,this.mensagens$=this._mensagensSub.asObservable(),this._mensagensSub.pipe(C(),Object(w.a)(5e3)).subscribe(function(){return n._mensagensSub.next(null)})}return n.prototype.PushPedidoSalvo=function(n){return this._mensagensSub.next(n),this.mensagens$},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}(),_=function(){function n(n,e){this._pedidosService=n,this._mensagemService=e,this.mensagem=new s.a(null)}return n.prototype.ngOnInit=function(){this._pedidosService.getClientes(),this._pedidosService.getProdutos(),this._mensagemService.mensagens$.subscribe(this.mensagem)},n}(),T=t["\u0275crt"]({encapsulation:0,styles:[[".mensagem[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{text-align:center}small[_ngcontent-%COMP%]{color:green}"]],data:{}});function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" Pedido salvo com id "," "])),t["\u0275pid"](131072,u.AsyncPipe,[t.ChangeDetectorRef])],null,function(n,e){var l=e.component;n(e,1,0,t["\u0275unv"](e,1,0,t["\u0275nov"](e,2).transform(l.mensagem)))})}function x(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Emiss\xe3o de Pedidos"])),(n()(),t["\u0275eld"](2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](3,212992,null,0,a.m,[a.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null),(n()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","mensagem"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,3,null,O)),t["\u0275did"](6,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,u.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,u.AsyncPipe,[t.ChangeDetectorRef])],function(n,e){var l=e.component;n(e,3,0),n(e,6,0,t["\u0275unv"](e,6,0,t["\u0275nov"](e,7).transform(l.mensagem))&&null!=t["\u0275unv"](e,6,0,t["\u0275nov"](e,8).transform(l.mensagem)))},null)}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-pedidos",[],null,null,null,x,T)),t["\u0275did"](1,114688,null,0,_,[m,S],null,null)],function(n,e){n(e,1,0)},null)}var P=t["\u0275ccf"]("app-pedidos",_,V,{},{},[]),R=l("gIcY"),M=l("QpxQ"),E=t["\u0275crt"]({encapsulation:2,styles:[".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{color:#333;cursor:default;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"],data:{}});function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["aria-hidden","true"],["class","ng-value-icon left"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.unselect(n.parent.context.$implicit)&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\xd7"])),(n()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","ng-value-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""]))],null,function(n,e){n(e,3,0,e.parent.context.$implicit.label)})}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ng-value"]],[[2,"ng-value-disabled",null]],null,null,null,null)),(n()(),t["\u0275and"](0,[["defaultLabelTemplate",2]],null,0,null,N)),(n()(),t["\u0275and"](16777216,null,null,2,null,k)),t["\u0275did"](3,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{item:0,clear:1,label:2})],function(n,e){var l=e.component,i=n(e,4,0,e.context.$implicit.value,l.clearItem,e.context.$implicit.label);n(e,3,0,i,l.labelTemplate||t["\u0275nov"](e,1))},function(n,e){n(e,0,0,e.context.$implicit.disabled)})}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](2,278528,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](0,null,null,0))],function(n,e){n(e,2,0,e.component.selectedItems)},null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,2,null,D)),t["\u0275did"](1,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](2,{items:0,clear:1}),(n()(),t["\u0275and"](0,null,null,0))],function(n,e){var l=e.component,t=n(e,2,0,l.selectedValues,l.clearItem);n(e,1,0,t,l.multiLabelTemplate)},null)}function U(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","ng-spinner-loader"]],null,null,null,null,null))],null,null)}function $(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","ng-clear-wrapper"]],[[8,"title",0]],null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[["aria-hidden","true"],["class","ng-clear"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\xd7"]))],null,function(n,e){n(e,0,0,t["\u0275inlineInterpolate"](1,"",e.component.clearAllText,""))})}function q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","ng-option-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit.label)})}function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ng-option"]],[[1,"role",0],[2,"ng-option-disabled",null],[2,"ng-option-selected",null],[2,"ng-optgroup",null],[2,"ng-option",null],[2,"ng-option-child",null],[2,"ng-option-marked",null],[1,"aria-selected",0],[1,"id",0]],[[null,"click"],[null,"mouseover"]],function(n,e,l){var t=!0,i=n.component;return"click"===e&&(t=!1!==i.toggleItem(n.context.$implicit)&&t),"mouseover"===e&&(t=!1!==i.onItemHover(n.context.$implicit)&&t),t},null,null)),(n()(),t["\u0275and"](0,[["defaultOptionTemplate",2]],null,0,null,q)),(n()(),t["\u0275and"](16777216,null,null,2,null,j)),t["\u0275did"](3,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{item:0,item$:1,index:2,searchTerm:3})],function(n,e){var l=e.component,i=n(e,4,0,e.context.$implicit.value,e.context.$implicit,e.context.$implicit.index,l.filterValue);n(e,3,0,i,e.context.$implicit.children?l.optgroupTemplate||t["\u0275nov"](e,1):l.optionTemplate||t["\u0275nov"](e,1))},function(n,e){n(e,0,0,e.context.$implicit.children?"group":"option",e.context.$implicit.disabled,e.context.$implicit.selected,e.context.$implicit.children,!e.context.$implicit.children,!!e.context.$implicit.parent,e.context.$implicit===e.component.itemsList.markedItem,e.context.$implicit.selected,null==e.context.$implicit?null:e.context.$implicit.htmlId)})}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","ng-tag-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275ted"](3,null,['"','"']))],null,function(n,e){var l=e.component;n(e,2,0,l.addTagText),n(e,3,0,l.filterValue)})}function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ng-option"],["role","option"]],[[2,"ng-option-marked",null]],[[null,"mouseover"],[null,"click"]],function(n,e,l){var t=!0,i=n.component;return"mouseover"===e&&(t=!1!==i.itemsList.unmarkItem()&&t),"click"===e&&(t=!1!==i.selectTag()&&t),t},null,null)),(n()(),t["\u0275and"](0,[["defaultTagTemplate",2]],null,0,null,H)),(n()(),t["\u0275and"](16777216,null,null,2,null,K)),t["\u0275did"](3,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{searchTerm:0})],function(n,e){var l=e.component,i=n(e,4,0,l.filterValue);n(e,3,0,i,l.tagTemplate||t["\u0275nov"](e,1))},function(n,e){n(e,0,0,!e.component.itemsList.markedItem)})}function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ng-option ng-option-disabled"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.notFoundText)})}function Q(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function Y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](0,[["defaultNotFoundTemplate",2]],null,0,null,B)),(n()(),t["\u0275and"](16777216,null,null,2,null,Q)),t["\u0275did"](3,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{searchTerm:0}),(n()(),t["\u0275and"](0,null,null,0))],function(n,e){var l=e.component,i=n(e,4,0,l.filterValue);n(e,3,0,i,l.notFoundTemplate||t["\u0275nov"](e,1))},null)}function W(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ng-option ng-option-disabled"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.typeToSearchText)})}function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function J(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](0,[["defaultTypeToSearchTemplate",2]],null,0,null,W)),(n()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](3,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(n()(),t["\u0275and"](0,null,null,0))],function(n,e){n(e,3,0,e.component.typeToSearchTemplate||t["\u0275nov"](e,1))},null)}function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ng-option ng-option-disabled"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.loadingText)})}function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](0,null,null,0))],null,null)}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](0,[["defaultLoadingTextTemplate",2]],null,0,null,X)),(n()(),t["\u0275and"](16777216,null,null,2,null,nn)),t["\u0275did"](3,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](4,{searchTerm:0}),(n()(),t["\u0275and"](0,null,null,0))],function(n,e){var l=e.component,i=n(e,4,0,l.filterValue);n(e,3,0,i,l.loadingTextTemplate||t["\u0275nov"](e,1))},null)}function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,13,"ng-dropdown-panel",[["class","ng-dropdown-panel"]],[[2,"ng-select-multiple",null],[8,"id",0]],[[null,"update"],[null,"scroll"],[null,"scrollToEnd"],[null,"outsideClick"],[null,"mousedown"]],function(n,e,l){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==t["\u0275nov"](n,2).handleMousedown(l)&&i),"update"===e&&(i=!1!==(o.viewPortItems=l)&&i),"scroll"===e&&(i=!1!==o.scroll.emit(l)&&i),"scrollToEnd"===e&&(i=!1!==o.scrollToEnd.emit(l)&&i),"outsideClick"===e&&(i=!1!==o.close()&&i),i},rn,on)),t["\u0275did"](1,278528,null,0,u.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](2,1818624,[[1,4]],0,M.g,[t.Renderer2,t.NgZone,M.h,M.i,t.ElementRef,[2,u.DOCUMENT]],{items:[0,"items"],markedItem:[1,"markedItem"],position:[2,"position"],appendTo:[3,"appendTo"],bufferAmount:[4,"bufferAmount"],virtualScroll:[5,"virtualScroll"],headerTemplate:[6,"headerTemplate"],footerTemplate:[7,"footerTemplate"],filterValue:[8,"filterValue"]},{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"}),(n()(),t["\u0275eld"](3,0,null,0,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](5,278528,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](7,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Y)),t["\u0275did"](9,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,J)),t["\u0275did"](11,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,en)),t["\u0275did"](13,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,1,0,"ng-dropdown-panel",l.classes),n(e,2,0,l.itemsList.filteredItems,l.itemsList.markedItem,l.dropdownPosition,l.appendTo,l.bufferAmount,l.virtualScroll,l.headerTemplate,l.footerTemplate,l.filterValue),n(e,5,0,l.viewPortItems),n(e,7,0,l.showAddTag),n(e,9,0,l.showNoItemsFound()),n(e,11,0,l.showTypeToSearch()),n(e,13,0,l.loading&&0===l.itemsList.filteredItems.length)},function(n,e){var l=e.component;n(e,0,0,l.multiple,l.dropdownId)})}function tn(n){return t["\u0275vid"](2,[t["\u0275qud"](671088640,1,{dropdownPanel:0}),t["\u0275qud"](402653184,2,{filterInput:0}),(n()(),t["\u0275eld"](2,0,null,null,15,"div",[["class","ng-select-container"]],[[2,"ng-has-value",null]],[[null,"mousedown"]],function(n,e,l){var t=!0;return"mousedown"===e&&(t=!1!==n.component.handleMousedown(l)&&t),t},null,null)),(n()(),t["\u0275eld"](3,0,null,null,8,"div",[["class","ng-value-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"div",[["class","ng-placeholder"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](7,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](9,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](10,0,null,null,1,"div",[["class","ng-input"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,[[2,0],["filterInput",1]],null,0,"input",[["role","combobox"],["type","text"]],[[1,"autocomplete",0],[1,"id",0],[1,"tabindex",0],[8,"readOnly",0],[8,"disabled",0],[8,"value",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-activedescendant",0]],[[null,"input"],[null,"focus"],[null,"blur"],[null,"change"]],function(n,e,l){var i=!0,o=n.component;return"input"===e&&(i=!1!==o.filter(t["\u0275nov"](n,11).value)&&i),"focus"===e&&(i=!1!==o.onInputFocus(l)&&i),"blur"===e&&(i=!1!==o.onInputBlur(l)&&i),"change"===e&&(i=!1!==l.stopPropagation()&&i),i},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](13,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](15,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](16,0,null,null,1,"span",[["class","ng-arrow-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,0,"span",[["class","ng-arrow"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](19,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,7,0,!l.multiLabelTemplate&&l.selectedItems.length>0),n(e,9,0,l.multiLabelTemplate&&l.selectedValues.length>0),n(e,13,0,l.loading),n(e,15,0,l.showClear()),n(e,19,0,l.isOpen)},function(n,e){var l=e.component;n(e,2,0,l.hasValue),n(e,5,0,l.placeholder),n(e,11,0,l.labelForId?"off":l.dropdownId,l.labelForId,l.tabIndex,!l.searchable,l.disabled,l.filterValue?l.filterValue:"",l.isOpen,l.isOpen?l.dropdownId:null,l.isOpen?null==l.itemsList?null:null==l.itemsList.markedItem?null:l.itemsList.markedItem.htmlId:null)})}var on=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","ng-dropdown-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,16777216,null,null,2,null,null,null,null,null,null,null)),t["\u0275did"](2,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{searchTerm:0})],function(n,e){var l=e.component,t=n(e,3,0,l.filterValue);n(e,2,0,t,l.headerTemplate)},null)}function an(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","ng-dropdown-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,16777216,null,null,2,null,null,null,null,null,null,null)),t["\u0275did"](2,540672,null,0,u.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{searchTerm:0})],function(n,e){var l=e.component,t=n(e,3,0,l.filterValue);n(e,2,0,t,l.footerTemplate)},null)}function rn(n){return t["\u0275vid"](2,[t["\u0275qud"](402653184,1,{contentElementRef:0}),t["\u0275qud"](402653184,2,{scrollElementRef:0}),t["\u0275qud"](402653184,3,{paddingElementRef:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](4,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](5,0,[[2,0],["scroll",1]],null,3,"div",[["class","ng-dropdown-panel-items scroll-host"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,[[3,0],["padding",1]],null,0,"div",[],[[2,"total-padding",null]],null,null,null,null)),(n()(),t["\u0275eld"](7,0,[[1,0],["content",1]],null,1,"div",[],[[2,"scrollable-content",null]],null,null,null,null)),t["\u0275ncd"](null,0),(n()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](10,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,4,0,l.headerTemplate),n(e,10,0,l.footerTemplate)},function(n,e){var l=e.component;n(e,6,0,l.virtualScroll),n(e,7,0,l.virtualScroll&&l.items.length>0)})}var sn=l("udRp"),dn=l("2Ifh"),cn=l("Fa87"),pn=l("bne5"),gn=l("15JJ"),mn=function(){return function(n,e){this.Moeda=e||hn,this.Valor=n||0}}(),hn={Unidade:"",Name:"",Id:"BRL"},fn=(new mn(0,hn),function(){function n(n){this._pedidosService=n,this.MENSAGEM_QUANTIDADE_INVALIDA_PADRAO="Quantidade \xe9 obrigat\xf3ria",this.rentabilidadeCarregada=new s.a(!1),this.mensagemQuantidadeInvalida=this.MENSAGEM_QUANTIDADE_INVALIDA_PADRAO}return Object.defineProperty(n.prototype,"produtoSelecionado",{get:function(){return this._produtoSelecionado},set:function(n){if(this._produtoSelecionado!==n&&(this._produtoSelecionado=n,n)){var e=this.configuraMultiploEMensagemDeQuantidade(n),l=this.definePrecoAUtilizar(n);this.atualizaFormulario({precoUnitario:l,quantidade:e,multiplo:e,idProduto:n.Id}),this.configuraChecagemDeRentabilidade(),this.inputPreco.nativeElement.dispatchEvent(new Event("keyup"))}},enumerable:!0,configurable:!0}),n.prototype.configuraMultiploEMensagemDeQuantidade=function(n){var e=1;return this.mensagemQuantidadeInvalida=this.MENSAGEM_QUANTIDADE_INVALIDA_PADRAO,n.Multiplo&&(this.mensagemQuantidadeInvalida="Quantidade \xe9 obrigat\xf3ria e deve ser m\xfaltiplo de "+(e=n.Multiplo)),e},n.prototype.definePrecoAUtilizar=function(n){var e=n.PrecoSugerido.Valor;return this.item.Id>0&&this.item.IdProduto===n.Id&&(e=this.item.PrecoUnitario.Valor),e},n.prototype.ngOnInit=function(){var n=this;this.atualizaModelo(),this._pedidosService.loadingProdutos$.subscribe(function(e){return n.loadingProdutos=e}),this._pedidosService.produtos$.subscribe(function(e){return n.carregarListaDeProdutos(e)}),this.itemForm.updateValueAndValidity()},n.prototype.atualizaModelo=function(){this.item=this.converteParaItem(this.itemForm.value)},n.prototype.converteParaItem=function(n){var e=new c;return e.Id=n.id,e.IdProduto=n.idProduto,e.PrecoUnitario=new mn(n.precoUnitario),e.Quantidade=n.quantidade,e},n.prototype.configuraChecagemDeRentabilidade=function(){var n=this,e=Object(pn.a)(this.inputPreco.nativeElement,"keyup");e.subscribe(function(){n.rentabilidadeCarregada.next(!1),n.atualizaFormulario({rentabilidade:"Calculando"})}),e.pipe(Object(w.a)(200),C(),Object(gn.a)(function(){var e=n.tratarPrecoUnitario();return n._pedidosService.calcularRentablidade(n.produtoSelecionado.PrecoSugerido,e)})).subscribe((function(e){n.rentabilidadeCarregada.next(!0),n.atualizaFormulario({rentabilidade:p[e]})}).bind(this))},n.prototype.tratarPrecoUnitario=function(){var n=this.inputPreco.nativeElement.value.replace(/\./g,"").replace(",","."),e=+parseFloat(n).toFixed(2);return new mn(e)},n.prototype.atualizaFormulario=function(n){this.itemForm.patchValue(n),this.itemForm.updateValueAndValidity()},n.prototype.carregarListaDeProdutos=function(n){if(this.listaDeProdutos=n,this.item&&this.item.IdProduto>0){var e=this.item.IdProduto;this.produtoSelecionado=n.find(function(n){return n.Id===e})}},n}()),vn=t["\u0275crt"]({encapsulation:0,styles:[[".grid-grupo-4[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:2% 0}.grid-grupo-4[_ngcontent-%COMP%]   .linha-1-container[_ngcontent-%COMP%]{width:100%}.grid-grupo-4[_ngcontent-%COMP%]   .linha-1-container[_ngcontent-%COMP%]   .linha-1[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.grid-grupo-4[_ngcontent-%COMP%]   .linha-1-container[_ngcontent-%COMP%]   .linha-1[_ngcontent-%COMP%]   .preco[_ngcontent-%COMP%], .grid-grupo-4[_ngcontent-%COMP%]   .linha-1-container[_ngcontent-%COMP%]   .linha-1[_ngcontent-%COMP%]   .quantidade[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;max-width:50%}.grid-grupo-4[_ngcontent-%COMP%]   .linha-2-container[_ngcontent-%COMP%]{width:100%;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.grid-grupo-4[_ngcontent-%COMP%]   .linha-2-container[_ngcontent-%COMP%]   .linha-2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;max-width:50%}.grid-grupo-4[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4px;border-width:1px;height:30px;font-size:15px;min-width:40%}.grid-grupo-4[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:3px 0}"]],data:{}});function bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ng-option disabled"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Carregando... "]))],null,null)}function Cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","linha-2"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"label",[["for","rentabilidade"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Rentabilidade"])),(n()(),t["\u0275eld"](3,0,null,null,5,"input",[["class","form-control balao"],["disabled","true"],["formControlName","rentabilidade"],["id","rentabilidade"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](n,4)._handleInput(l.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](n,4).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](n,4)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](n,4)._compositionEnd(l.target.value)&&i),i},null,null)),t["\u0275did"](4,16384,null,0,R.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,R.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,R.NG_VALUE_ACCESSOR,function(n){return[n]},[R.DefaultValueAccessor]),t["\u0275did"](6,671744,null,0,R.FormControlName,[[3,R.ControlContainer],[8,null],[8,null],[6,R.NG_VALUE_ACCESSOR],[2,R["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,R.NgControl,null,[R.FormControlName]),t["\u0275did"](8,16384,null,0,R.NgControlStatus,[[4,R.NgControl]],null,null),(n()(),t["\u0275eld"](9,0,null,null,1,"small",[["class","mensagem-alerta"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Rentabilidade deve ser boa ou \xf3tima "]))],function(n,e){n(e,6,0,"rentabilidade","true")},function(n,e){var l=e.component;n(e,3,0,t["\u0275nov"](e,8).ngClassUntouched,t["\u0275nov"](e,8).ngClassTouched,t["\u0275nov"](e,8).ngClassPristine,t["\u0275nov"](e,8).ngClassDirty,t["\u0275nov"](e,8).ngClassValid,t["\u0275nov"](e,8).ngClassInvalid,t["\u0275nov"](e,8).ngClassPending),n(e,9,0,l.itemForm.controls.rentabilidade.valid)})}function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","linha-2-container"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,2,null,Cn)),t["\u0275did"](2,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,u.AsyncPipe,[t.ChangeDetectorRef])],function(n,e){var l=e.component;n(e,2,0,l.itemForm.controls.precoUnitario.valid&&t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform(l.rentabilidadeCarregada)))},null)}function In(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{inputPreco:0}),(n()(),t["\u0275eld"](1,0,null,null,63,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var i=!0;return"submit"===e&&(i=!1!==t["\u0275nov"](n,2).onSubmit(l)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](n,2).onReset()&&i),i},null,null)),t["\u0275did"](2,540672,null,0,R.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,R.ControlContainer,null,[R.FormGroupDirective]),t["\u0275did"](4,16384,null,0,R.NgControlStatusGroup,[[4,R.ControlContainer]],null,null),(n()(),t["\u0275eld"](5,0,null,null,59,"div",[["class","form-group col-xs-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,23,"div",[["class","grupo"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Produto"])),(n()(),t["\u0275eld"](9,0,null,null,18,"ng-select",[["bindLabel","Nome"],["class","ng-select"],["formControlName","produto"],["placeholder","Selecione o produto"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],function(n,e,l){var i=!0,o=n.component;return"keydown"===e&&(i=!1!==t["\u0275nov"](n,10).handleKeyDown(l)&&i),"ngModelChange"===e&&(i=!1!==(o.produtoSelecionado=l)&&i),i},tn,E)),t["\u0275did"](10,4964352,null,11,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.k],{items:[0,"items"],bindLabel:[1,"bindLabel"],placeholder:[2,"placeholder"],loading:[3,"loading"]},null),t["\u0275qud"](335544320,2,{optionTemplate:0}),t["\u0275qud"](335544320,3,{optgroupTemplate:0}),t["\u0275qud"](335544320,4,{labelTemplate:0}),t["\u0275qud"](335544320,5,{multiLabelTemplate:0}),t["\u0275qud"](335544320,6,{headerTemplate:0}),t["\u0275qud"](335544320,7,{footerTemplate:0}),t["\u0275qud"](335544320,8,{notFoundTemplate:0}),t["\u0275qud"](335544320,9,{typeToSearchTemplate:0}),t["\u0275qud"](335544320,10,{loadingTextTemplate:0}),t["\u0275qud"](335544320,11,{tagTemplate:0}),t["\u0275qud"](603979776,12,{ngOptions:1}),t["\u0275prd"](1024,null,R.NG_VALUE_ACCESSOR,function(n){return[n]},[M.a]),t["\u0275did"](23,671744,null,0,R.FormControlName,[[3,R.ControlContainer],[8,null],[8,null],[6,R.NG_VALUE_ACCESSOR],[2,R["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,R.NgControl,null,[R.FormControlName]),t["\u0275did"](25,16384,null,0,R.NgControlStatus,[[4,R.NgControl]],null,null),(n()(),t["\u0275and"](0,[[10,2]],null,1,null,bn)),t["\u0275did"](27,16384,null,0,M.f,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](28,0,null,null,1,"small",[["class","mensagem-alerta"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Produto \xe9 obrigat\xf3rio "])),(n()(),t["\u0275eld"](30,0,null,null,34,"div",[["class","grid-grupo-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](31,0,null,null,31,"div",[["class","linha-1-container"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275eld"](32,0,null,null,30,"div",[["class","linha-1"]],null,null,null,null,null)),(n()(),t["\u0275eld"](33,0,null,null,17,"div",[["class","preco"]],null,null,null,null,null)),(n()(),t["\u0275eld"](34,0,null,null,1,"label",[["for","preco"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Pre\xe7o Unit\xe1rio"])),(n()(),t["\u0275eld"](36,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](37,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["R$"])),(n()(),t["\u0275eld"](39,0,[[1,0],["inputPreco",1]],null,9,"input",[["class","balao"],["currencyMask",""],["formControlName","precoUnitario"],["id","preco"],["pInputText",""],["placeholder","Pre\xe7o unit\xe1rio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"click"],[null,"cut"],[null,"keydown"],[null,"keypress"],[null,"keyup"],[null,"paste"]],function(n,e,l){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](n,40)._handleInput(l.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](n,40).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](n,40)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](n,40)._compositionEnd(l.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](n,41).handleBlur(l)&&i),"click"===e&&(i=!1!==t["\u0275nov"](n,41).handleClick(l)&&i),"cut"===e&&(i=!1!==t["\u0275nov"](n,41).handleCut(l)&&i),"input"===e&&(i=!1!==t["\u0275nov"](n,41).handleInput(l)&&i),"keydown"===e&&(i=!1!==t["\u0275nov"](n,41).handleKeydown(l)&&i),"keypress"===e&&(i=!1!==t["\u0275nov"](n,41).handleKeypress(l)&&i),"keyup"===e&&(i=!1!==t["\u0275nov"](n,41).handleKeyup(l)&&i),"paste"===e&&(i=!1!==t["\u0275nov"](n,41).handlePaste(l)&&i),"input"===e&&(i=!1!==t["\u0275nov"](n,48).onInput(l)&&i),i},null,null)),t["\u0275did"](40,16384,null,0,R.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,R.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](41,4538368,null,0,sn.CurrencyMaskDirective,[[2,dn.CURRENCY_MASK_CONFIG],t.ElementRef,t.KeyValueDiffers],{options:[0,"options"]},null),t["\u0275pod"](42,{prefix:0,thousands:1,decimal:2,allowNegative:3}),t["\u0275prd"](1024,null,R.NG_VALIDATORS,function(n){return[n]},[sn.CurrencyMaskDirective]),t["\u0275prd"](1024,null,R.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[R.DefaultValueAccessor,sn.CurrencyMaskDirective]),t["\u0275did"](45,671744,null,0,R.FormControlName,[[3,R.ControlContainer],[6,R.NG_VALIDATORS],[8,null],[6,R.NG_VALUE_ACCESSOR],[2,R["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,R.NgControl,null,[R.FormControlName]),t["\u0275did"](47,16384,null,0,R.NgControlStatus,[[4,R.NgControl]],null,null),t["\u0275did"](48,278528,null,0,cn.InputText,[t.ElementRef,[2,R.NgModel]],null,null),(n()(),t["\u0275eld"](49,0,null,null,1,"small",[["class","mensagem-alerta"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Pre\xe7o unit\xe1rio \xe9 obrigat\xf3rio "])),(n()(),t["\u0275eld"](51,0,null,null,11,"div",[["class","quantidade"]],null,null,null,null,null)),(n()(),t["\u0275eld"](52,0,null,null,1,"label",[["for","quantidade"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Quantidade"])),(n()(),t["\u0275eld"](54,0,null,null,6,"input",[["class","form-control balao"],["formControlName","quantidade"],["id","quantidade"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,e,l){var i=!0;return"input"===e&&(i=!1!==t["\u0275nov"](n,55)._handleInput(l.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](n,55).onTouched()&&i),"compositionstart"===e&&(i=!1!==t["\u0275nov"](n,55)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t["\u0275nov"](n,55)._compositionEnd(l.target.value)&&i),"change"===e&&(i=!1!==t["\u0275nov"](n,56).onChange(l.target.value)&&i),"input"===e&&(i=!1!==t["\u0275nov"](n,56).onChange(l.target.value)&&i),"blur"===e&&(i=!1!==t["\u0275nov"](n,56).onTouched()&&i),i},null,null)),t["\u0275did"](55,16384,null,0,R.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,R.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](56,16384,null,0,R["\u0275angular_packages_forms_forms_be"],[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,R.NG_VALUE_ACCESSOR,function(n,e){return[n,e]},[R.DefaultValueAccessor,R["\u0275angular_packages_forms_forms_be"]]),t["\u0275did"](58,671744,null,0,R.FormControlName,[[3,R.ControlContainer],[8,null],[8,null],[6,R.NG_VALUE_ACCESSOR],[2,R["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,R.NgControl,null,[R.FormControlName]),t["\u0275did"](60,16384,null,0,R.NgControlStatus,[[4,R.NgControl]],null,null),(n()(),t["\u0275eld"](61,0,null,null,1,"small",[["class","mensagem-alerta"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275ted"](62,null,[" "," "])),(n()(),t["\u0275and"](16777216,null,null,1,null,yn)),t["\u0275did"](64,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,2,0,l.itemForm),n(e,10,0,l.listaDeProdutos,"Nome","Selecione o produto",l.loadingProdutos),n(e,23,0,"produto",l.produtoSelecionado);var t=n(e,42,0," ",".",",","false");n(e,41,0,t),n(e,45,0,"precoUnitario"),n(e,48,0),n(e,58,0,"quantidade"),n(e,64,0,l.produtoSelecionado)},function(n,e){var l=e.component;n(e,1,0,t["\u0275nov"](e,4).ngClassUntouched,t["\u0275nov"](e,4).ngClassTouched,t["\u0275nov"](e,4).ngClassPristine,t["\u0275nov"](e,4).ngClassDirty,t["\u0275nov"](e,4).ngClassValid,t["\u0275nov"](e,4).ngClassInvalid,t["\u0275nov"](e,4).ngClassPending),n(e,9,1,[!t["\u0275nov"](e,10).multiple,t["\u0275nov"](e,10).typeahead,t["\u0275nov"](e,10).multiple,t["\u0275nov"](e,10).addTag,t["\u0275nov"](e,10).searchable,t["\u0275nov"](e,10).isOpen,t["\u0275nov"](e,10).disabled,t["\u0275nov"](e,10).filtered,t["\u0275nov"](e,25).ngClassUntouched,t["\u0275nov"](e,25).ngClassTouched,t["\u0275nov"](e,25).ngClassPristine,t["\u0275nov"](e,25).ngClassDirty,t["\u0275nov"](e,25).ngClassValid,t["\u0275nov"](e,25).ngClassInvalid,t["\u0275nov"](e,25).ngClassPending]),n(e,28,0,l.itemForm.controls.produto.valid||l.itemForm.controls.produto.untouched),n(e,31,0,!l.produtoSelecionado),n(e,39,1,[t["\u0275nov"](e,47).ngClassUntouched,t["\u0275nov"](e,47).ngClassTouched,t["\u0275nov"](e,47).ngClassPristine,t["\u0275nov"](e,47).ngClassDirty,t["\u0275nov"](e,47).ngClassValid,t["\u0275nov"](e,47).ngClassInvalid,t["\u0275nov"](e,47).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](e,48).filled]),n(e,49,0,l.itemForm.controls.precoUnitario.valid||l.itemForm.controls.precoUnitario.untouched),n(e,54,0,t["\u0275nov"](e,60).ngClassUntouched,t["\u0275nov"](e,60).ngClassTouched,t["\u0275nov"](e,60).ngClassPristine,t["\u0275nov"](e,60).ngClassDirty,t["\u0275nov"](e,60).ngClassValid,t["\u0275nov"](e,60).ngClassInvalid,t["\u0275nov"](e,60).ngClassPending),n(e,61,0,!(l.itemForm.errors&&l.itemForm.errors.quantidadeInvalida)||l.itemForm.controls.quantidade.untouched),n(e,62,0,l.mensagemQuantidadeInvalida)})}var wn=function(){function n(n,e){this._router=n,this._route=e,this.formHabilitado=!1}return n.prototype.ngOnInit=function(){},n.prototype.acao=function(){this.formHabilitado?this._router.navigate(["pedidos/"+this.idProduto.nativeElement.value],{relativeTo:this._route.root}):this.formHabilitado=!0},n}(),Sn=t["\u0275crt"]({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{margin-bottom:5px}input[_ngcontent-%COMP%]{height:27px;border-radius:4px;margin-right:5px}"]],data:{}});function _n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,[[1,0],["idProduto",1]],null,0,"input",[["class","form-control"],["placeholder","N\xfamero do pedido"],["type","number"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.acao()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,[" OK "]))],null,null)}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.acao()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,[" Alterar Pedido Anterior "]))],null,null)}function On(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{idProduto:0}),(n()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","grid"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,_n)),t["\u0275did"](3,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](5,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,3,0,l.formHabilitado),n(e,5,0,!l.formHabilitado)},null)}var xn=function(n){var e=n.get("quantidade"),l=n.get("multiplo");return e&&e.value&&l&&l.value&&(0===e.value||e.value%l.value!=0)?{quantidadeInvalida:!0}:null},Vn=function(){function n(n,e,l,t,i){this._fb=n,this._pedidosService=e,this._router=l,this._route=t,this._mensagemService=i,this.salvando=!1,this.pedidosFormItens=this._fb.array([])}return n.prototype.ngOnInit=function(){var n=this;this._pedidosService.loadingClientes$.subscribe(function(e){return n.loadingClientes=e}),this._pedidosService.clientes$.subscribe(function(e){return n.carregarListaDeClientes(e)}),this.pedidosForm=this.createForm(),this.pedidosFormItens=this.pedidosForm.controls.itens,this.checaEAtualizaFormulario()},n.prototype.createForm=function(){return this._fb.group({cliente:this._fb.control(void 0,[R.Validators.required]),itens:this._fb.array([this.criaFormItem()],[R.Validators.required])})},n.prototype.criaFormItem=function(){return this._fb.group({id:this._fb.control(0),idProduto:this._fb.control(""),produto:this._fb.control(void 0,[R.Validators.required]),precoUnitario:this._fb.control("",[R.Validators.required]),quantidade:this._fb.control("",[R.Validators.required]),multiplo:this._fb.control(""),rentabilidade:this._fb.control("",function(n){var e=n?n.value:void 0;return e&&null!==e&&e!==p[p.Boa]&&e!==p[p.Otima]?{rentabilidadeInvalida:!0}:null})},{validator:xn})},n.prototype.checaEAtualizaFormulario=function(){this.pedido.Id>0&&this.atualizaForm()},n.prototype.ngAfterContentChecked=function(){this.pedidosForm.updateValueAndValidity(),this.pedidosFormItens.updateValueAndValidity()},n.prototype.atualizaForm=function(){var n=this;this.pedidosForm.patchValue({cliente:this.clienteSelecionado.Id,itens:this.pedido.Itens.map(function(e){return n.converteParaFormDeItem(e)})})},n.prototype.carregarListaDeClientes=function(n){var e=this;this.listaDeClientes=n,this.pedido.IdCliente&&(this.clienteSelecionado=n.find(function(n){return n.Id===e.pedido.IdCliente}))},n.prototype.adicionarItem=function(){this.pedido.Itens=this.pedido.Itens.concat([new c]);var n=this.pedidosForm.controls.itens;n.controls.push(this.criaFormItem()),n.updateValueAndValidity(),this.pedidosForm.updateValueAndValidity()},n.prototype.removerItem=function(n){var e=this.pedidosForm.controls.itens;e.removeAt(n),e.updateValueAndValidity(),this.pedidosForm.updateValueAndValidity()},n.prototype.salvarPedido=function(){var n=this,e=this.pedidosForm.value;this.pedido.IdCliente=e.cliente,this.pedido.Itens=e.itens.map(function(e){return n.converteParaItem(e)}),this.pedido.Id||(this.pedido.Id=0),this.salvando=!0,this._pedidosService.salvarPedido(this.pedido).subscribe(function(e){n._mensagemService.PushPedidoSalvo(e.Id),n.salvando=!1,n.pedido=new d,n.pedidosForm=n.createForm(),n._router.navigate(["pedidos"],{relativeTo:n._route.root})})},n.prototype.converteParaItem=function(n){var e=new c;return e.Id=n.id,e.IdProduto=n.produto.Id,e.PrecoUnitario=new mn(n.precoUnitario),e.Quantidade=n.quantidade,e.Rentabilidade=n.rentabilidade,e},n.prototype.converteParaFormDeItem=function(n){return{id:n.Id,idProduto:n.IdProduto,precoUnitario:n.PrecoUnitario.Valor,quantidade:n.Quantidade,rentabilidade:n.Rentabilidade}},n}(),Pn=t["\u0275crt"]({encapsulation:0,styles:[[".disabled[_ngcontent-%COMP%]{color:#a9a9a9}.input-wrapper[_ngcontent-%COMP%]{margin:5% 10%}.botoes[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.botoes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}#label-client[_ngcontent-%COMP%]{margin:5px 0}"]],data:{}});function Rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ng-option disabled"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Carregando... "]))],null,null)}function Mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","btn"],["style","align-content: flex-end"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.removerItem(n.parent.context.index)&&t),t},null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"a",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Remover"]))],null,null)}function En(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-item-de-pedido-form",[],null,null,null,In,vn)),t["\u0275did"](2,114688,null,0,fn,[m],{itemForm:[0,"itemForm"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Mn)),t["\u0275did"](4,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null))],function(n,e){var l=e.component;n(e,2,0,e.context.$implicit),n(e,4,0,l.pedidosFormItens.controls.length>1)},null)}function Nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,38,"div",[["class","page-layout input-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-botao-alterar",[],null,null,null,On,Sn)),t["\u0275did"](2,114688,null,0,wn,[a.k,a.a],null,null),(n()(),t["\u0275eld"](3,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,l){var i=!0,o=n.component;return"submit"===e&&(i=!1!==t["\u0275nov"](n,5).onSubmit(l)&&i),"reset"===e&&(i=!1!==t["\u0275nov"](n,5).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.salvarPedido()&&i),i},null,null)),t["\u0275did"](4,16384,null,0,R["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](5,540672,null,0,R.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,R.ControlContainer,null,[R.FormGroupDirective]),t["\u0275did"](7,16384,null,0,R.NgControlStatusGroup,[[4,R.ControlContainer]],null,null),(n()(),t["\u0275eld"](8,0,null,null,1,"label",[["for","cliente"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Cliente"])),(n()(),t["\u0275eld"](10,0,null,null,18,"ng-select",[["bindLabel","Nome"],["bindValue","Id"],["class","ng-select"],["formControlName","cliente"],["id","cliente"],["placeholder","Selecione o cliente"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown"]],function(n,e,l){var i=!0;return"keydown"===e&&(i=!1!==t["\u0275nov"](n,11).handleKeyDown(l)&&i),i},tn,E)),t["\u0275did"](11,4964352,null,11,M.a,[[8,null],[8,null],[8,null],M.b,M.d,t.ElementRef,t.ChangeDetectorRef,M.k],{items:[0,"items"],bindLabel:[1,"bindLabel"],bindValue:[2,"bindValue"],placeholder:[3,"placeholder"],loading:[4,"loading"]},null),t["\u0275qud"](335544320,1,{optionTemplate:0}),t["\u0275qud"](335544320,2,{optgroupTemplate:0}),t["\u0275qud"](335544320,3,{labelTemplate:0}),t["\u0275qud"](335544320,4,{multiLabelTemplate:0}),t["\u0275qud"](335544320,5,{headerTemplate:0}),t["\u0275qud"](335544320,6,{footerTemplate:0}),t["\u0275qud"](335544320,7,{notFoundTemplate:0}),t["\u0275qud"](335544320,8,{typeToSearchTemplate:0}),t["\u0275qud"](335544320,9,{loadingTextTemplate:0}),t["\u0275qud"](335544320,10,{tagTemplate:0}),t["\u0275qud"](603979776,11,{ngOptions:1}),t["\u0275prd"](1024,null,R.NG_VALUE_ACCESSOR,function(n){return[n]},[M.a]),t["\u0275did"](24,671744,null,0,R.FormControlName,[[3,R.ControlContainer],[8,null],[8,null],[6,R.NG_VALUE_ACCESSOR],[2,R["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,R.NgControl,null,[R.FormControlName]),t["\u0275did"](26,16384,null,0,R.NgControlStatus,[[4,R.NgControl]],null,null),(n()(),t["\u0275and"](0,[[9,2]],null,1,null,Rn)),t["\u0275did"](28,16384,null,0,M.f,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](29,0,null,null,1,"small",[["class","mensagem-alerta"]],[[8,"hidden",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Cliente \xe9 obrigat\xf3rio "])),(n()(),t["\u0275and"](16777216,null,null,1,null,En)),t["\u0275did"](32,278528,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](33,0,null,null,5,"div",[["class","botoes"]],null,null,null,null,null)),(n()(),t["\u0275eld"](34,0,null,null,2,"button",[["class","btn"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.adicionarItem()&&t),t},null,null)),(n()(),t["\u0275eld"](35,0,null,null,1,"a",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Adicionar"])),(n()(),t["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Salvar"]))],function(n,e){var l=e.component;n(e,2,0),n(e,5,0,l.pedidosForm),n(e,11,0,l.listaDeClientes,"Nome","Id","Selecione o cliente",l.loadingClientes),n(e,24,0,"cliente"),n(e,32,0,l.pedidosFormItens.controls)},function(n,e){var l=e.component;n(e,3,0,t["\u0275nov"](e,7).ngClassUntouched,t["\u0275nov"](e,7).ngClassTouched,t["\u0275nov"](e,7).ngClassPristine,t["\u0275nov"](e,7).ngClassDirty,t["\u0275nov"](e,7).ngClassValid,t["\u0275nov"](e,7).ngClassInvalid,t["\u0275nov"](e,7).ngClassPending),n(e,10,1,[!t["\u0275nov"](e,11).multiple,t["\u0275nov"](e,11).typeahead,t["\u0275nov"](e,11).multiple,t["\u0275nov"](e,11).addTag,t["\u0275nov"](e,11).searchable,t["\u0275nov"](e,11).isOpen,t["\u0275nov"](e,11).disabled,t["\u0275nov"](e,11).filtered,t["\u0275nov"](e,26).ngClassUntouched,t["\u0275nov"](e,26).ngClassTouched,t["\u0275nov"](e,26).ngClassPristine,t["\u0275nov"](e,26).ngClassDirty,t["\u0275nov"](e,26).ngClassValid,t["\u0275nov"](e,26).ngClassInvalid,t["\u0275nov"](e,26).ngClassPending]),n(e,29,0,l.pedidosForm.controls.cliente.valid||l.pedidosForm.controls.cliente.untouched),n(e,37,0,!l.pedidosForm.valid||l.salvando)})}var kn=function(){function n(){this.pedido=new d}return n.prototype.ngOnInit=function(){},n}(),Fn=t["\u0275crt"]({encapsulation:0,styles:[["h4[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function An(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Emitir novo pedido"])),(n()(),t["\u0275eld"](2,0,null,null,1,"app-pedidos-form",[],null,null,null,Nn,Pn)),t["\u0275did"](3,2211840,null,0,Vn,[R.FormBuilder,m,a.k,a.a,S],{pedido:[0,"pedido"]},null)],function(n,e){n(e,3,0,e.component.pedido)},null)}function Dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-novo-pedido",[],null,null,null,An,Fn)),t["\u0275did"](1,114688,null,0,kn,[],null,null)],function(n,e){n(e,1,0)},null)}var Ln=t["\u0275ccf"]("app-novo-pedido",kn,Dn,{},{},[]),Un=function(){function n(n,e){this._pedidosService=n,this._route=e,this.pedidoCarregado=!1}return n.prototype.ngOnInit=function(){var n=this;this._route.params.subscribe(function(e){n.subscribeParaObterPedido(+e.id)})},n.prototype.subscribeParaObterPedido=function(n){var e=this;this.currentId&&this.currentId===n||(this.currentId=n,this.pedidoCarregado=!1,this._pedidosService.getPedido(n).subscribe(function(n){e.pedido=n,e.pedidoCarregado=!0}))},n}(),$n=t["\u0275crt"]({encapsulation:0,styles:[["h4[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","loading-animation"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Carregando"]))],null,null)}function jn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-pedidos-form",[],null,null,null,Nn,Pn)),t["\u0275did"](1,2211840,null,0,Vn,[R.FormBuilder,m,a.k,a.a,S],{pedido:[0,"pedido"]},null)],function(n,e){n(e,1,0,e.component.pedido)},null)}function Gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Emitir novo pedido"])),(n()(),t["\u0275and"](16777216,null,null,1,null,qn)),t["\u0275did"](3,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,jn)),t["\u0275did"](5,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,3,0,!l.pedidoCarregado),n(e,5,0,l.pedidoCarregado)},null)}function Hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-alterar-pedido",[],null,null,null,Gn,$n)),t["\u0275did"](1,114688,null,0,Un,[m,a.a],null,null)],function(n,e){n(e,1,0)},null)}var Kn=t["\u0275ccf"]("app-alterar-pedido",Un,Hn,{},{},[]),zn=function(){return function(){}}(),Bn=l("UoT3");l.d(e,"PedidosModuleNgFactory",function(){return Qn});var Qn=t["\u0275cmf"](i,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,P,Ln,Kn]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[t.LOCALE_ID,[2,u["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,R["\u0275angular_packages_forms_forms_j"],R["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,R.FormBuilder,R.FormBuilder,[]),t["\u0275mpd"](4608,m,m,[r.a]),t["\u0275mpd"](4608,S,S,[]),t["\u0275mpd"](1073742336,u.CommonModule,u.CommonModule,[]),t["\u0275mpd"](1073742336,R["\u0275angular_packages_forms_forms_bc"],R["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,R.FormsModule,R.FormsModule,[]),t["\u0275mpd"](1073742336,R.ReactiveFormsModule,R.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,a.l,a.l,[[2,a.r],[2,a.k]]),t["\u0275mpd"](1073742336,zn,zn,[]),t["\u0275mpd"](1073742336,M.c,M.c,[]),t["\u0275mpd"](1073742336,Bn.CurrencyMaskModule,Bn.CurrencyMaskModule,[]),t["\u0275mpd"](1073742336,cn.InputTextModule,cn.InputTextModule,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,a.i,function(){return[[{path:"",component:_,children:[{path:"",component:kn},{path:":id",component:Un}]}]]},[]),t["\u0275mpd"](256,M.d,M.e,[])])})},Fa87:function(n,e,l){var t=l("mrSG").__decorate,i=l("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=l("CcnG"),u=(l("gIcY"),l("Ip0R")),a=function(){function n(n,e){this.el=n,this.ngModel=e}return n.prototype.ngDoCheck=function(){this.updateFilledState()},n.prototype.onInput=function(n){this.updateFilledState()},n.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model},t([o.HostListener("input",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],n.prototype,"onInput",null),t([o.Directive({selector:"[pInputText]",host:{"[class.ui-inputtext]":"true","[class.ui-corner-all]":"true","[class.ui-state-default]":"true","[class.ui-widget]":"true","[class.ui-state-filled]":"filled"}})],n)}();e.InputText=a,e.InputTextModule=function(){return t([o.NgModule({imports:[u.CommonModule],exports:[a],declarations:[a]})],function(){})}()},UoT3:function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=l("Ip0R"),i=l("gIcY"),o=l("CcnG"),u=l("udRp");e.CurrencyMaskModule=function(){function n(){}return n.decorators=[{type:o.NgModule,args:[{imports:[t.CommonModule,i.FormsModule],declarations:[u.CurrencyMaskDirective],exports:[u.CurrencyMaskDirective]}]}],n}()},bL53:function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=l("y61n");e.InputHandler=function(){function n(n,e){this.inputService=new t.InputService(n,e),this.htmlInputElement=n}return n.prototype.handleClick=function(n,e){0!=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)||isNaN(this.inputService.value)||this.inputService.fixCursorPosition(e)},n.prototype.handleCut=function(n){var e=this;this.isReadOnly()||setTimeout(function(){e.inputService.updateFieldValue(),e.setValue(e.inputService.value),e.onModelChange(e.inputService.value)},0)},n.prototype.handleInput=function(n){if(!this.isReadOnly()){var e=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),l=this.inputService.rawValue.length,t=this.inputService.inputSelection.selectionEnd,i=this.inputService.getRawValueWithoutSuffixEndPosition(),o=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,t==i&&1==Math.abs(l-o)||0==o){if(l<o&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),l>o)switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/))return;this.inputService.addNumber(e)}this.setCursorPosition(n),this.onModelChange(this.inputService.value)}else this.setCursorPosition(n)}},n.prototype.handleKeydown=function(n){if(!this.isReadOnly()){var e=n.which||n.charCode||n.keyCode;if(8==e||46==e||63272==e){n.preventDefault();var l=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);l!=this.inputService.rawValue.length&&0!=this.inputService.value||(this.setValue(null),this.onModelChange(this.inputService.value)),0!=l||isNaN(this.inputService.value)||(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)),8!==e&&46!==e||0==l||isNaN(this.inputService.value)||(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value))}}},n.prototype.handleKeypress=function(n){if(!this.isReadOnly()){var e=n.which||n.charCode||n.keyCode;if(null!=e&&-1==[9,13].indexOf(e)&&!this.isArrowEndHomeKeyInFirefox(n)){switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/)||this.inputService.addNumber(e)}n.preventDefault(),this.onModelChange(this.inputService.value)}}},n.prototype.handleKeyup=function(n){this.inputService.fixCursorPosition()},n.prototype.handlePaste=function(n){var e=this;this.isReadOnly()||setTimeout(function(){e.inputService.updateFieldValue(),e.setValue(e.inputService.value),e.onModelChange(e.inputService.value)},1)},n.prototype.updateOptions=function(n){this.inputService.updateOptions(n)},n.prototype.getOnModelChange=function(){return this.onModelChange},n.prototype.setOnModelChange=function(n){this.onModelChange=n},n.prototype.getOnModelTouched=function(){return this.onModelTouched},n.prototype.setOnModelTouched=function(n){this.onModelTouched=n},n.prototype.setValue=function(n){this.inputService.value=n},n.prototype.getNewKeyCode=function(n,e){if(n.length>e.length)return null;for(var l=0;l<e.length;l++)if(n.length==l||n[l]!=e[l])return e.charCodeAt(l)},n.prototype.isArrowEndHomeKeyInFirefox=function(n){return-1!=[35,36,37,38,39,40].indexOf(n.keyCode)&&(null==n.charCode||0==n.charCode)},n.prototype.isReadOnly=function(){return this.htmlInputElement&&this.htmlInputElement.readOnly},n.prototype.setCursorPosition=function(n){var e=this.inputService.getRawValueWithoutSuffixEndPosition();setTimeout(function(){n.target.setSelectionRange(e,e)},0)},n}()},ehNZ:function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=function(){function n(n){this.htmlInputElement=n}return n.prototype.setCursorAt=function(n){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(n,n);else if(this.htmlInputElement.createTextRange){var e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",n),e.moveStart("character",n),e.select()}},n.prototype.updateValueAndCursor=function(n,e,l){this.rawValue=n,this.setCursorAt(l-=e-n.length)},Object.defineProperty(n.prototype,"canInputMoreNumbers",{get:function(){var n=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,l=this.inputSelection.selectionEnd,t=!(e==l||!this.htmlInputElement.value.substring(e,l).match(/\d/)),i="0"==this.htmlInputElement.value.substring(0,1);return n||t||i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputSelection",{get:function(){var n=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)n=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{var l=document.getSelection().baseNode;if(l&&l.firstChild==this.htmlInputElement){var t=this.htmlInputElement.value.length,i=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange(),u=this.htmlInputElement.createTextRange();u.collapse(!1),o.compareEndPoints("StartToEnd",u)>-1?n=e=t:(n=-o.moveStart("character",-t),n+=i.slice(0,n).split("\n").length-1,o.compareEndPoints("EndToEnd",u)>-1?e=t:(e=-o.moveEnd("character",-t),e+=i.slice(0,e).split("\n").length-1))}}return{selectionStart:n,selectionEnd:e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rawValue",{get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(n){this._storedRawValue=n,this.htmlInputElement&&(this.htmlInputElement.value=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storedRawValue",{get:function(){return this._storedRawValue},enumerable:!0,configurable:!0}),n}()},udRp:function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=l("CcnG"),i=l("gIcY"),o=(l("2Ifh"),l("bL53"));e.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR={provide:i.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return u}),multi:!0};var u=function(){function n(n,e,l){this.currencyMaskConfig=n,this.elementRef=e,this.keyValueDiffers=l,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},n&&(this.optionsTemplate=n),this.keyValueDiffer=l.find({}).create()}return n.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align},n.prototype.ngDoCheck=function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))},n.prototype.ngOnInit=function(){this.inputHandler=new o.InputHandler(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))},n.prototype.handleBlur=function(n){this.inputHandler.getOnModelTouched().apply(n)},n.prototype.handleClick=function(n){this.inputHandler.handleClick(n,this.isChromeAndroid())},n.prototype.handleCut=function(n){this.isChromeAndroid()||this.inputHandler.handleCut(n)},n.prototype.handleInput=function(n){this.isChromeAndroid()&&this.inputHandler.handleInput(n)},n.prototype.handleKeydown=function(n){this.isChromeAndroid()||this.inputHandler.handleKeydown(n)},n.prototype.handleKeypress=function(n){this.isChromeAndroid()||this.inputHandler.handleKeypress(n)},n.prototype.handleKeyup=function(n){this.isChromeAndroid()||this.inputHandler.handleKeyup(n)},n.prototype.handlePaste=function(n){this.isChromeAndroid()||this.inputHandler.handlePaste(n)},n.prototype.isChromeAndroid=function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)},n.prototype.registerOnChange=function(n){this.inputHandler.setOnModelChange(n)},n.prototype.registerOnTouched=function(n){this.inputHandler.setOnModelTouched(n)},n.prototype.setDisabledState=function(n){this.elementRef.nativeElement.disabled=n},n.prototype.validate=function(n){var e={};return n.value>this.max&&(e.max=!0),n.value<this.min&&(e.min=!0),e!={}?e:null},n.prototype.writeValue=function(n){this.inputHandler.setValue(n)},n.decorators=[{type:t.Directive,args:[{selector:"[currencyMask]",providers:[e.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR,{provide:i.NG_VALIDATORS,useExisting:n,multi:!0}]}]}],n.propDecorators={max:[{type:t.Input}],min:[{type:t.Input}],options:[{type:t.Input}],handleBlur:[{type:t.HostListener,args:["blur",["$event"]]}],handleClick:[{type:t.HostListener,args:["click",["$event"]]}],handleCut:[{type:t.HostListener,args:["cut",["$event"]]}],handleInput:[{type:t.HostListener,args:["input",["$event"]]}],handleKeydown:[{type:t.HostListener,args:["keydown",["$event"]]}],handleKeypress:[{type:t.HostListener,args:["keypress",["$event"]]}],handleKeyup:[{type:t.HostListener,args:["keyup",["$event"]]}],handlePaste:[{type:t.HostListener,args:["paste",["$event"]]}]},n}();e.CurrencyMaskDirective=u},y61n:function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=l("ehNZ");e.InputService=function(){function n(n,e){this.htmlInputElement=n,this.options=e,this.inputManager=new t.InputManager(n)}return n.prototype.addNumber=function(n){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));var e=String.fromCharCode(n),l=this.inputSelection.selectionStart,t=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,l)+e+this.rawValue.substring(t,this.rawValue.length),this.updateFieldValue(l+1)},n.prototype.applyMask=function(n,e){var l=this.options,t=l.allowNegative,i=l.decimal,o=l.precision,u=l.prefix,a=l.suffix,r=l.thousands,s=(e=n?new Number(e).toFixed(o):e).replace(/[^0-9]/g,"");if(!s)return"";var d=s.slice(0,s.length-o).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,r);""==d&&(d="0");var c=d,p=s.slice(s.length-o);o>0&&(c+=i+(p="0".repeat(o-p.length)+p));var g=0==parseInt(d)&&(0==parseInt(p)||""==p);return(e.indexOf("-")>-1&&t&&!g?"-":"")+u+c+a},n.prototype.clearMask=function(n){if(null==n||""==n)return null;var e=n.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),parseFloat(e)},n.prototype.changeToNegative=function(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){var n=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(n+1)}},n.prototype.changeToPositive=function(){var n=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(n-1)},n.prototype.fixCursorPosition=function(n){var e=this.inputSelection.selectionStart;e>this.getRawValueWithoutSuffixEndPosition()||n?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):e<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())},n.prototype.getRawValueWithoutSuffixEndPosition=function(){return this.rawValue.length-this.options.suffix.length},n.prototype.getRawValueWithoutPrefixStartPosition=function(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length},n.prototype.removeNumber=function(n){var e=this.options,l=e.decimal,t=e.thousands,i=this.inputSelection.selectionEnd,o=this.inputSelection.selectionStart;o>this.rawValue.length-this.options.suffix.length&&(i=this.rawValue.length-this.options.suffix.length,o=this.rawValue.length-this.options.suffix.length),i==o&&(46!=n&&63272!=n||!/^\d+$/.test(this.rawValue.substring(o,i+1))||(i+=1),46!=n&&63272!=n||this.rawValue.substring(o,i+1)!=l&&this.rawValue.substring(o,i+1)!=t||(i+=2,o+=1),8==n&&/^\d+$/.test(this.rawValue.substring(o-1,i))&&(o-=1),8!=n||this.rawValue.substring(o-1,i)!=l&&this.rawValue.substring(o-1,i)!=t||(o-=2,i-=1)),this.rawValue=this.rawValue.substring(0,o)+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(o)},n.prototype.updateFieldValue=function(n){var e=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(e,this.rawValue.length,n=null==n?this.rawValue.length:n)},n.prototype.updateOptions=function(n){var e=this.value;this.options=n,this.value=e},Object.defineProperty(n.prototype,"canInputMoreNumbers",{get:function(){return this.inputManager.canInputMoreNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputSelection",{get:function(){return this.inputManager.inputSelection},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rawValue",{get:function(){return this.inputManager.rawValue},set:function(n){this.inputManager.rawValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storedRawValue",{get:function(){return this.inputManager.storedRawValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.clearMask(this.rawValue)},set:function(n){this.rawValue=this.applyMask(!0,""+n)},enumerable:!0,configurable:!0}),n}()}}]);